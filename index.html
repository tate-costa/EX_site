<script>
  const firebaseConfig = {
    apiKey: "AIzaSyD3cJtk0c42pNAr3tsi_gQ7_9KcQS-HvgA",
    authDomain: "extracker-d2148.firebaseapp.com",
    projectId: "extracker-d2148",
    appId: "1:123456789012:web:abcdef123456" // Replace with your actual App ID
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  auth.onAuthStateChanged((user) => {
    const welcomeEl = document.getElementById("welcomeUser");
    if (user) {
      localStorage.setItem("userId", user.uid); // 🔐 Persist UID
      welcomeEl.textContent = `Welcome back, ${user.displayName || user.email}`;
      window.location.href = "dashboard.html"; // 🚀 Auto-redirect
    } else {
      localStorage.removeItem("userId"); // Clear if logged out
      welcomeEl.textContent = "Welcome, guest! Please sign in to access your dashboard.";
    }
  });
</script>
