<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>

<script>
  // Initialize Firebase
  const firebaseConfig = { /* your config */ };
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();

  // Auth listener
  auth.onAuthStateChanged(user => {
    if (user) {
      const uid = user.uid;
      const entriesRef = db.ref(`users/${uid}/entries`);

      // Write new entry
      document.getElementById("submitEntry").onclick = () => {
        const info = document.getElementById("entryInput").value;
        entriesRef.push({
          timestamp: Date.now(),
          info: info
        });
      };

      // Read entries
      entriesRef.on("value", snapshot => {
        const data = snapshot.val();
        const container = document.getElementById("entryList");
        container.innerHTML = "";
        for (let key in data) {
          const entry = data[key];
          container.innerHTML += `<li>${new Date(entry.timestamp).toLocaleString()}: ${entry.info}</li>`;
        }
      });
    }
  });
</script>

<!-- HTML -->
<input id="entryInput" placeholder="Your entry..." />
<button id="submitEntry">Submit</button>
<ul id="entryList"></ul>
